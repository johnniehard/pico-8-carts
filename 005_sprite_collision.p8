pico-8 cartridge // http://www.pico-8.com
version 16
__lua__


function makeplayer()
 local p={}
 p.x=80
 p.y=8
 p.vx=2
 p.vy=2
 p.d=0 --direction
 return p
end

function updateplayer()
	--left
 if (btn(0)) then
  if(not solid(p.x-p.vx-7,p.y-0.5)) then
   p.x-=1
  else
   while(not solid(p.x-0.1,p.y-0.5)) do
   	p.x-=0.1
   end
  end
 end
 
 --right
 if (btn(1)) then
  if(not solid(p.x+p.vx,p.y-0.5)) then
   p.x+=p.vx
  end
 end
 
 --up
 if (btn(2)) then
  if(not solid(p.x+0.5,p.y-p.vy)) then
   p.y-=p.vy
  end
 end
 
 --down
 if (btn(3)) then
  if(not solid(p.x-p.vx-6,p.y-0.5)) then
   p.y+=p.vy
  end
 end
 

end

function drawplayer()
 spr(2,p.x,p.y
 )
end

function solid(x,y)
 if(x < 0 or x > 128) then
  return true end
  
 val=mget(x,y)
 return fget(val,1)
end

function _init()
 p=makeplayer()
end

function _update()
 updateplayer()
end

function _draw()
	cls()
	map(0,0,0,0,13,9)
 drawplayer()
end
__gfx__
000000000000000000000000000000000000000000000000000000000000000044444444000200006aaaaaa70000000000000000000000000000000000000000
000000000000000000999900000000000000000000000000000000000000000094999999002200001dddddda0000000000000000000000000000000000000000
007007000000000000b99b000000000000000000000000000000000000000000949999990022ee001dddddda0000000000000000000000000000000000000000
000770000000000000999900000000000000000000000000000000000000000084888888222922201dddddda0000000000000000000000000000000000000000
0007700000000000099999900000000000000000000000000000000000000000444444440222e0001dddddda0000000000000000000000000000000000000000
0070070000000000095555900000000000000000000000000000000000000000999994990002eb001dddddda0000000000000000000000000000000000000000
00000000000000000550055000000000000000000000000000000000000000009999949900020b001dddddda0000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000008888848800000b00211111160000000000000000000000000000000000000000
__gff__
0001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0a0a0a0a0a0a0a0a0a0a0a0a0a0a0a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a000000000000000000000001000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a000000000000000000000001000a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a00000000000000000000000100000a0a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a00000000000000000009000100000a0a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a00000000000000090a0a0a0a0a0a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a000000000000000a0a08080808080a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a000000000000010a0808080808080a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a010101010101010a080808080a0a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a000000000000000a080808080a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0000000000000001080808080a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0000000000090a0a0a0a0a0a0a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0a0a0a0a0a0a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
